---
import Layout from "../layouts/Layout.astro";
import SetupWizard from "../components/SetupWizard";
---

<Layout title="Alchemist | Setup">
    <div
        class="min-h-screen bg-helios-main flex items-center justify-center p-4"
    >
        <div class="w-full max-w-3xl">
            <SetupWizard client:only="react" />
        </div>
    </div>
</Layout>

<script>
    // If setup is already done, redirect to dashboard
    fetch("/api/setup/status")
        .then((res) => res.json())
        .then((data) => {
            if (!data.setup_required) {
                window.location.href = "/";
            }
        })
        .catch((err) => console.error("Failed to check setup status", err));
</script>
